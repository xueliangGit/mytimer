mycomponent.loadBundle("mddfnrkn",["exports"],function(e){var t=window.mycomponent.h,i=function(e,t,i){void 0===i&&(i=30);var n=e+"="+escape(t);if(null!=i){var o=new Date,s=3600*i*1e3*24;o.setTime(o.getTime()+s),n+="; expires="+o.toUTCString()}document.cookie=n},n=function(e){var t,i=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(i))?unescape(t[2]):null},o={a0:"刚来到地球，你要做的是慢慢感知这个地球",a1:"现在你应该开始学习了，应对各种技能考试",a2:"通过各种技能检验，你也找到了你的方向",a3:"这个阶段的你正在验证你的方向是否正确，不要灰心",a4:"现在你深刻了解了你的任务和责任，还需要继续努力",a5:"下一代已经长大了，你可以安排他们去做一些事情了，帮助你完成任务",a6:"任务是不是差不多完成了？可以去做真真自己的事情了，例如去周游地球",a7:"你要给下一代做一个导师，让他们少走一些弯路",a8:"你这个导师合格吗？",a9:"把你的故事讲给下下代听吧",a10:"。。。"},s=function(){function e(){this.time=Date.now(),this.list=["以年显示","以月显示","以天显示","以时显示","以分显示","以秒显示"],this.nowTimes=+new Date/1e3,this.nowyearTimes=(new Date).getFullYear(),this.showTimes="",this.seek=1,this.typesarray=["y","M","d","h","m","s"],this.types=5}return e.prototype.componentWillLoad=function(){var e=n("borthTime"),t=n("types");e&&(this.initE(e),this.types=+t)},e.prototype.initE=function(e){this.borthTime=+e;var t=new Date(1e3*+e);this.youEndTime=new Date(t.getFullYear()+100+"-"+(t.getMonth()+1)+"-"+t.getDate()),this.nowTimes=+new Date/1e3,this.strtTime()},e.prototype.componentDidLoad=function(){},e.prototype.strtTime=function(){var e=this;this.timer=window.setInterval(function(){e.yourAge=new Date(1e3*e.nowTimes).getFullYear()-new Date(1e3*+e.borthTime).getFullYear(),e.showTimes=function(e,t,i){void 0===i&&(i="s");var n=t-e;if(n<=0)return"你来地球的任务已经完成，不要管有什么遗憾，继续要其他的星球吧";switch(i){case"y":var o=new Date(1e3*e);return new Date(1e3*t).getFullYear()-o.getFullYear()+"年";case"M":return Math.floor(n/2592e3)+"月";case"d":return Math.floor(n/86400)+"天";case"h":return Math.floor(n/3600)+"时";case"m":return Math.floor(n/60)+"分";case"s":return Math.floor(n)+"秒"}}(e.nowTimes+=e.seek,+e.youEndTime/1e3,e.typesarray[e.types]),e.nowTimes>+e.youEndTime/1e3&&e.stopTime()},1e3)},e.prototype.stopTime=function(){this.timer&&(clearTimeout(this.timer),this.timer=0)},e.prototype.componentDidUnload=function(){this.stopTime()},e.prototype.selectChange=function(){this.types=+this.typeEl.value,i("types",this.types.toString())},e.prototype.selectBothtime=function(){if(this.borthTimeEl.value){if(new Date(this.borthTimeEl.value).getFullYear()<this.nowyearTimes-80)return alert("请选择大于"+(this.nowyearTimes-80)+"的年份"),!1;if(new Date(this.borthTimeEl.value).getFullYear()>=this.nowyearTimes)return alert("请选择小于"+this.nowyearTimes+"的年份"),!1;console.log(this.borthTimeEl.value),this.initE(+new Date(this.borthTimeEl.value)/1e3),i("borthTime",this.borthTime.toString())}},e.prototype.switchOther=function(){this.stopTime(),this.borthTime=0},e.prototype.getTextForAge=function(){return o["a"+(this.yourAge/10).toFixed(0)]},e.prototype.selectTimerChange=function(){this.seek=[1,3600,86400,2592e3,31536e3][+this.timerEl.value]},e.prototype.render=function(){var e=this,i=this.getTextForAge();return t("div",{class:"timer-root"},t("p",{class:"times"},"时间一去不复返,把握现在"),t("div",{class:this.borthTime?"hide input-info":"show input-info"},t("h1",null,"请选择您的出生日期"),t("input",{ref:function(t){return e.borthTimeEl=t},type:"date"}),t("button",{onClick:this.selectBothtime.bind(this)},"确定")),t("div",{class:this.borthTime?"show row":"hide row"},t("div",{class:"info"},i,t("br",null),t("br",null),"距离离开还有"),t("div",{class:" timer"},t("span",{class:this.showTimes.includes("你来地")?"none":""},this.showTimes)),t("div",{class:"select "},t("p",{class:"times s-i"},"时间显示"),t("select",{ref:function(t){return e.typeEl=t},onChange:this.selectChange.bind(this),name:"",id:""},this.list.map(function(i,n){return t("option",{selected:n==e.types,value:n},i)})),t("p",{class:"times s-i"},"时间加速器"),t("select",{ref:function(t){return e.timerEl=t},onChange:this.selectTimerChange.bind(this),name:"",id:""},["秒","时","天","月","年"].map(function(e,i){return t("option",{value:i},e)})),t("span",{onClick:this.switchOther.bind(this),class:"times"},"查看他人离开时间"))))},Object.defineProperty(e,"is",{get:function(){return"my-timer"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"encapsulation",{get:function(){return"shadow"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{borthTime:{state:!0},seek:{state:!0},showTimes:{state:!0},time:{state:!0},types:{state:!0}}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"style",{get:function(){return":host .timer-root{position:fixed;background:#000;color:#fff}:host .row,:host .timer-root{top:0;bottom:0;left:0;right:0}:host .row{overflow:hidden;position:absolute;padding:20px;display:block;margin:auto;height:70%}:host .row-item{width:50%;float:left}:host .select{margin-top:50px}:host .timer{text-align:center;font-weight:700;font-size:45px}:host .input-info{position:absolute;top:0;bottom:0;left:0;right:0;height:30%;margin:auto;z-index:5;background:#000;text-align:center}:host .input-info input{width:50%}:host .hide{display:none}:host .show{display:block}:host input{height:30px;font-size:18px;border-radius:5px;border:none;text-align:center}:host button{width:120px;margin:10px auto}:host button,:host select{background:#fff;display:block;border-radius:5px;height:30px}:host select{margin:0 auto;width:50%;text-align:center}:host .info{text-align:center;margin-bottom:50px}:host .times{font-size:12px;color:#ccc;display:block;margin-top:50px;text-align:center;height:20px}:host .none{font-size:14px}:host .s-i{margin-top:10px;margin-bottom:10px}"},enumerable:!0,configurable:!0}),e}();e.MyTimer=s,Object.defineProperty(e,"__esModule",{value:!0})});