const e=window.mycomponent.h,t=(e,t,i="s")=>{let s=t-e;if(s<=0)return"你来地球的任务已经完成，不要管有什么遗憾，继续要其他的星球吧";switch(i){case"y":let h=new Date(1e3*e);return new Date(1e3*t).getFullYear()-h.getFullYear()+"年";case"M":return Math.floor(s/2592e3)+"月";case"d":return Math.floor(s/86400)+"天";case"h":return Math.floor(s/3600)+"时";case"m":return Math.floor(s/60)+"分";case"s":return Math.floor(s)+"秒"}},i=(e,t,i=30)=>{var s=e+"="+escape(t);if(null!=i){var h=new Date,r=3600*i*1e3*24;h.setTime(h.getTime()+r),s+="; expires="+h.toUTCString()}document.cookie=s},s=e=>{let t=[],i=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(i))?unescape(t[2]):null};let h={a0:"刚来到地球，你要做的是慢慢感知这个地球",a1:"现在你应该开始学习了，应对各种技能考试",a2:"通过各种技能检验，你也找到了你的方向",a3:"这个阶段的你正在验证你的方向是否正确，不要灰心",a4:"现在你深刻了解了你的任务和责任，还需要继续努力",a5:"下一代已经长大了，你可以安排他们去做一些事情了，帮助你完成任务",a6:"任务是不是差不多完成了？可以去做真真自己的事情了，例如去周游地球",a7:"你要给下一代做一个导师，让他们少走一些弯路",a8:"你这个导师合格吗？",a9:"把你的故事讲给下下代听吧",a10:"。。。"};class r{constructor(){this.time=Date.now(),this.list=["以年显示","以月显示","以天显示","以时显示","以分显示","以秒显示"],this.nowTimes=+new Date/1e3,this.nowyearTimes=(new Date).getFullYear(),this.showTimes="",this.seek=1,this.typesarray=["y","M","d","h","m","s"],this.types=0}componentWillLoad(){let e=s("borthTime"),t=s("types");e&&(this.initE(e),this.types=+t)}initE(e){this.borthTime=+e;let t=new Date(1e3*+e);this.youEndTime=new Date(`${t.getFullYear()+100}-${t.getMonth()+1}-${t.getDate()}`),this.nowTimes=+new Date/1e3,this.strtTime()}componentDidLoad(){}strtTime(){this.timer=window.setInterval(()=>{this.yourAge=new Date(1e3*this.nowTimes).getFullYear()-new Date(1e3*+this.borthTime).getFullYear(),this.showTimes=t(this.nowTimes+=this.seek,+this.youEndTime/1e3,this.typesarray[this.types]),this.nowTimes>+this.youEndTime/1e3&&this.stopTime()},1e3)}stopTime(){this.timer&&(clearTimeout(this.timer),this.timer=0)}componentDidUnload(){this.stopTime()}selectChange(){this.types=+this.typeEl.value,i("types",this.types.toString())}selectBothtime(){if(this.borthTimeEl.value){if(new Date(this.borthTimeEl.value).getFullYear()<this.nowyearTimes-80)return alert("请选择大于"+(this.nowyearTimes-80)+"的年份"),!1;if(new Date(this.borthTimeEl.value).getFullYear()>=this.nowyearTimes)return alert("请选择小于"+this.nowyearTimes+"的年份"),!1;console.log(this.borthTimeEl.value),this.initE(+new Date(this.borthTimeEl.value)/1e3),i("borthTime",this.borthTime.toString())}}switchOther(){this.stopTime(),this.borthTime=0}getTextForAge(){return h["a"+(this.yourAge/10).toFixed(0)]}selectTimerChange(){this.seek=[1,3600,86400,2592e3,31536e3][+this.timerEl.value]}render(){let t=this.getTextForAge();return e("div",{class:"timer-root"},e("p",{class:"times"},"时间一去不复返,把握现在"),e("div",{class:this.borthTime?"hide input-info":"show input-info"},e("h1",null,"请选择您的出生日期"),e("input",{ref:e=>this.borthTimeEl=e,type:"date"}),e("button",{onClick:this.selectBothtime.bind(this)},"确定")),e("div",{class:this.borthTime?"show row":"hide row"},e("div",{class:"info"},t,e("br",null),e("br",null),"距离离开还有"),e("div",{class:" timer"},e("span",{class:this.showTimes.includes("你来地")?"none":""},this.showTimes)),e("div",{class:"select "},e("p",{class:"times s-i"},"时间显示"),e("select",{ref:e=>this.typeEl=e,onChange:this.selectChange.bind(this),name:"",id:""},this.list.map((t,i)=>e("option",{selected:i==this.types,value:i},t))),e("p",{class:"times s-i"},"时间加速器"),e("select",{ref:e=>this.timerEl=e,onChange:this.selectTimerChange.bind(this),name:"",id:""},["秒","时","天","月","年"].map((t,i)=>e("option",{value:i},t))),e("span",{onClick:this.switchOther.bind(this),class:"times"},"查看他人离开时间"))))}static get is(){return"my-timer"}static get encapsulation(){return"shadow"}static get properties(){return{borthTime:{state:!0},seek:{state:!0},showTimes:{state:!0},time:{state:!0},types:{state:!0}}}static get style(){return".sc-my-timer-h   .timer-root.sc-my-timer{position:fixed;background:#000;color:#fff}.sc-my-timer-h   .row.sc-my-timer, .sc-my-timer-h   .timer-root.sc-my-timer{top:0;bottom:0;left:0;right:0}.sc-my-timer-h   .row.sc-my-timer{overflow:hidden;position:absolute;padding:20px;display:block;margin:auto;height:70%}.sc-my-timer-h   .row-item.sc-my-timer{width:50%;float:left}.sc-my-timer-h   .select.sc-my-timer{margin-top:50px}.sc-my-timer-h   .timer.sc-my-timer{text-align:center;font-weight:700;font-size:45px}.sc-my-timer-h   .input-info.sc-my-timer{position:absolute;top:0;bottom:0;left:0;right:0;height:30%;margin:auto;z-index:5;background:#000;text-align:center}.sc-my-timer-h   .input-info.sc-my-timer   input.sc-my-timer{width:50%}.sc-my-timer-h   .hide.sc-my-timer{display:none}.sc-my-timer-h   .show.sc-my-timer{display:block}.sc-my-timer-h   input.sc-my-timer{height:30px;font-size:18px;border-radius:5px;border:none;text-align:center}.sc-my-timer-h   button.sc-my-timer{width:120px;margin:10px auto}.sc-my-timer-h   button.sc-my-timer, .sc-my-timer-h   select.sc-my-timer{background:#fff;display:block;border-radius:5px;height:30px}.sc-my-timer-h   select.sc-my-timer{margin:0 auto;width:50%;text-align:center}.sc-my-timer-h   .info.sc-my-timer{text-align:center;margin-bottom:50px}.sc-my-timer-h   .times.sc-my-timer{font-size:12px;color:#ccc;display:block;margin-top:50px;text-align:center;height:20px}.sc-my-timer-h   .none.sc-my-timer{font-size:14px}.sc-my-timer-h   .s-i.sc-my-timer{margin-top:10px;margin-bottom:10px}"}}export{r as MyTimer};